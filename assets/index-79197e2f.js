import{b as e,C as a,s,o as l,ac as t,e as i,i as n,m as d,z as r,V as o,n as c,D as u,y as p,u as m,w as f,v,F as y,W as _,ad as h,p as g,l as k,q as b,c as x,r as K,ae as F,a4 as C,x as A,j as w,G as D,af as I,a5 as q,k as z,a6 as P,a7 as B,a9 as L}from"./vendor-d9fce5dd.js";import{a as T,U as O,_ as j,c as R}from"./index-5ecedcfa.js";const U=e=>(g("data-v-6a837888"),e=e(),k(),e),H={class:"add-friend"},V=U((()=>d("h2",null,"添加好友",-1))),$=U((()=>d("p",null,"你可以用id来添加好友。",-1))),E={class:"search"},G={class:"search-input"},N={class:"content"},W={key:0,class:"error-text"},J={key:1,class:"error-text"},M={class:"search-btn"},Q={class:"add-friends-main"},S=j(e({__name:"AddFriend",setup(e){const g=a(null),k=a(!1),b=a(""),x=a(!1),K=a(!1),F=s({mapKey:{id:"",username:"",email:"",discriminator:"",password:"",createdAt:"",updatedAt:"",role:"",img:""}});l((()=>{g.value&&g.value.focus()})),t((()=>b.value),((e,a)=>{k.value=!e,K.value=/^\d+$/.test(e)}),{immediate:!0});const C=T((async()=>{if(/^\d+$/.test(b.value)){const{data:e,code:a}=await O.getUserInfo(b.value);if(200!==a)throw new Error("请求数据失败");F.mapKey.id=e.mapKey.id,F.mapKey.username=e.mapKey.username,F.mapKey.email=e.mapKey.email,F.mapKey.discriminator=e.mapKey.discriminator,F.mapKey.password=e.mapKey.password,F.mapKey.createdAt=e.mapKey.createdAt,F.mapKey.updatedAt=e.mapKey.updatedAt,F.mapKey.role=e.mapKey.role,F.mapKey.img=e.mapKey.img}else x.value=!0}));return(e,a)=>{const s=_,l=h;return i(),n(y,null,[d("div",H,[V,$,d("div",E,[d("div",G,[r(d("input",{type:"text",placeholder:"输入id",ref_key:"inputRef",ref:g,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),class:c({"is-error":!K.value&&b.value}),onKeyup:a[1]||(a[1]=u(((...e)=>p(C)&&p(C)(...e)),["enter"]))},null,34),[[o,b.value]]),d("div",{class:c(["popover",{show:!K.value&&b.value}])},[d("div",N,[K.value?(i(),n("p",J,"唔，没起作用。请再次检查字母大小写，拼写，空格与数字是否正确。")):(i(),n("p",W,"请输入正确的好友id标签！如：123412"))])],2),d("div",M,[m(s,{type:"primary",disabled:k.value||!K.value,style:{"background-color":"#5865f2"},onClick:p(C)},{default:f((()=>[v(" 搜索 ")])),_:1},8,["disabled","onClick"])])])])]),d("div",Q,[m(l,{description:"暂无好友","image-size":200,class:"empty-box"})])],64)}}}),[["__scopeId","data-v-6a837888"]]),X=j(e({__name:"All",setup(a){const s=R(),l=b((()=>s.friends.length));return e({name:"All"}),(e,a)=>{const t=K("FriendsDisplay"),n=h;return p(l)?(i(),x(t,{key:0,status:"all",list:p(s).friends,"icon-right":"fa-solid fa-bars","icon-left":"fa-solid fa-comments","title-text":"好友总数"},null,8,["list"])):(i(),x(n,{key:1,description:"暂无好友","image-size":200,class:"empty-box"}))}}}),[["__scopeId","data-v-df9ae9b7"]]),Y=j(e({__name:"Online",setup(a){const s=R(),l=b((()=>s.handleOnlineFriendsList.length));return e({name:"Online"}),(e,a)=>{const t=K("FriendsDisplay"),n=h;return p(l)?(i(),x(t,{key:0,status:"all",list:p(s).handleOnlineFriendsList,"icon-right":"fa-solid fa-bars","icon-left":"fa-solid fa-comments","title-text":"在线"},null,8,["list"])):(i(),x(n,{key:1,description:"暂无好友","image-size":200,class:"empty-box"}))}}}),[["__scopeId","data-v-1651881e"]]),Z=j(e({__name:"Blocked",setup(e){const a=R(),s=b((()=>a.blockedFriends.length));return(e,l)=>{const t=K("FriendsDisplay"),n=h;return p(s)?(i(),x(t,{key:0,status:"blocked",list:p(a).blockedFriends,"icon-right":"fa-solid fa-user-xmark","title-text":"已屏蔽数"},null,8,["list"])):(i(),x(n,{key:1,description:"暂无好友","image-size":200,class:"empty-box"}))}}}),[["__scopeId","data-v-57ea4e3e"]]),ee=j(e({__name:"ToBeDetermined",setup(a){const s=R(),l=b((()=>s.pendingFriends.length));return e({name:"Blocked"}),(e,a)=>{const t=K("FriendsDisplay"),n=h;return p(l)?(i(),x(t,{key:0,status:"ToBeDetermined",list:p(s).handlePendingFriendsList,"icon-left":"fa-solid fa-check","icon-right":"fa-solid fa-xmark","title-text":"待处理数"},null,8,["list"])):(i(),x(n,{key:1,description:"暂无好友","image-size":200,class:"empty-box"}))}}}),[["__scopeId","data-v-3ea53328"]]),ae=e=>(g("data-v-ebb35bd7"),e=e(),k(),e),se={class:"header-left-left"},le=ae((()=>d("span",null,[d("i",{class:"fa-solid fa-user"}),v(" 好友 ")],-1))),te=ae((()=>d("div",{class:"divider-q3P9HC"},null,-1))),ie={key:0,class:"msgNum"},ne={class:"header-right-right"},de=ae((()=>d("span",null,[d("i",{class:"fa-solid fa-message"})],-1))),re=ae((()=>d("div",{class:"divider-q3P9HC"},null,-1))),oe=ae((()=>d("span",null,[d("i",{class:"fa-solid fa-inbox"})],-1))),ce=ae((()=>d("span",null,[d("i",{class:"fa-solid fa-circle-question"})],-1))),ue=ae((()=>d("h2",null,"当前的活动",-1))),pe=ae((()=>d("div",{class:"status"},[d("h3",null,"现在很安静……"),d("p",null,"当好友开始活动时（比如玩游戏或进行语音聊天的时候），他们的状态都会显示在这里！")],-1))),me=j(e({__name:"index",setup(e){const s=a(1),r=R(),o=F([Y,X,ee,Z,S]);return l((()=>{r.getFriends(),r.getPendingFriends(),r.getBlockedFriends()})),t(s,(e=>{r.getFriends()}),{immediate:!0}),(e,a)=>{const l=q,t=z,u=P,_=B,h=L,g=C;return i(),x(g,null,{default:f((()=>[m(_,{class:"main-box-right-header2"},{default:f((()=>[m(u,null,{default:f((()=>[m(l,{span:19,class:"header-left"},{default:f((()=>[d("div",se,[le,te,d("span",{class:c({"is-active":1===s.value}),onClick:a[0]||(a[0]=e=>s.value=1)}," 在线 ",2),d("span",{class:c({"is-active":2===s.value}),onClick:a[1]||(a[1]=e=>s.value=2)}," 全部 ",2),d("span",{class:c({"is-active":3===s.value}),onClick:a[2]||(a[2]=e=>s.value=3)},[v(" 待定 "),p(r).handlePendingFriendsRequestList.length?(i(),n("i",ie,A(p(r).handlePendingFriendsRequestList.length),1)):w("",!0)],2),d("span",{class:c({"is-active":4===s.value}),onClick:a[3]||(a[3]=e=>s.value=4)}," 已屏蔽 ",2),d("span",{class:c({"is-active-add":5===s.value}),onClick:a[4]||(a[4]=e=>s.value=5)}," 添加好友 ",2)])])),_:1}),m(l,{span:5,class:"header-right"},{default:f((()=>[d("div",ne,[m(t,{"hide-after":50,class:"box-item",effect:"dark",content:"Top Center prompts info",placement:"bottom"},{default:f((()=>[de])),_:1}),re,m(t,{"hide-after":50,class:"box-item",effect:"dark",content:"Top Center prompts info",placement:"bottom"},{default:f((()=>[oe])),_:1}),m(t,{"hide-after":50,class:"box-item",effect:"dark",content:"Top Center prompts info",placement:"bottom"},{default:f((()=>[ce])),_:1})])])),_:1})])),_:1})])),_:1}),m(u,{class:"main-box-right-main2"},{default:f((()=>[m(l,{span:17},{default:f((()=>[m(g,null,{default:f((()=>[m(h,{class:"main-box-right-main2-main1"},{default:f((()=>[(i(!0),n(y,null,D(p(o),((e,a)=>(i(),n(y,null,[s.value===a+1?(i(),x(u,{class:"friends-item-list",key:a},{default:f((()=>[(i(),x(I(e)))])),_:2},1024)):w("",!0)],64)))),256))])),_:1})])),_:1})])),_:1}),m(l,{span:7},{default:f((()=>[m(g,null,{default:f((()=>[m(h,{class:"main-box-right-main2-main2"},{default:f((()=>[ue,pe])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-ebb35bd7"]]);export{me as default};
