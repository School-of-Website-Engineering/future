import{g as e,B as a,q as s,Q as t,a9 as l,o as i,h as n,l as d,y as r,O as o,n as c,C as u,s as p,w as m,u as f,F as v,P as y,aa as _,p as h,k as g,m as k,x as b,c as x,r as K,ab as F,_ as C,v as A,i as w,D as I,ac as P,$ as q,j as B,a0 as D,a4 as z,a6 as L}from"./vendor-7f21fd24.js";import{U as O,_ as T,a as j}from"./index-b475b8c3.js";const R=e=>(h("data-v-6ca536e2"),e=e(),g(),e),U={class:"add-friend"},$=R((()=>d("h2",null,"添加好友",-1))),H=R((()=>d("p",null,"你可以用id来添加好友。",-1))),E={class:"search"},M={class:"search-input"},N=["onKeyup"],Q={class:"content"},V={key:0,class:"error-text"},G={key:1,class:"error-text"},J={class:"search-btn"},S={class:"add-friends-main"},W=T(e({__name:"AddFriend",setup(e){const h=a(null),g=a(!1),k=a(""),b=a(!1),x=a(!1),K=s({mapKey:{id:"",username:"",email:"",discriminator:"",password:"",createdAt:"",updatedAt:"",role:"",img:""}});t((()=>{h.value&&h.value.focus()})),l((()=>k.value),((e,a)=>{g.value=!e,x.value=/^\d+$/.test(e)}),{immediate:!0});const F=async()=>{try{if(/^\d+$/.test(k.value)){const{data:e,code:a}=await O.getUserInfo(k.value);if(200!==a)throw new Error("请求数据失败");K.mapKey.id=e.mapKey.id,K.mapKey.username=e.mapKey.username,K.mapKey.email=e.mapKey.email,K.mapKey.discriminator=e.mapKey.discriminator,K.mapKey.password=e.mapKey.password,K.mapKey.createdAt=e.mapKey.createdAt,K.mapKey.updatedAt=e.mapKey.updatedAt,K.mapKey.role=e.mapKey.role,K.mapKey.img=e.mapKey.img}else b.value=!0}catch(e){}};return(e,a)=>{const s=y,t=_;return i(),n(v,null,[d("div",U,[$,H,d("div",E,[d("div",M,[r(d("input",{type:"text",placeholder:"输入id",ref_key:"inputRef",ref:h,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value=e),class:c({"is-error":!x.value&&k.value}),onKeyup:u(F,["enter"])},null,42,N),[[o,k.value]]),d("div",{class:c(["popover",{show:!x.value&&k.value}])},[d("div",Q,[x.value?(i(),n("p",G,"唔，没起作用。请再次检查字母大小写，拼写，空格与数字是否正确。")):(i(),n("p",V,"请输入正确的好友id标签！如：123412"))])],2),d("div",J,[p(s,{type:"primary",disabled:g.value||!x.value,style:{"background-color":"#5865f2"},onClick:F},{default:m((()=>[f(" 搜索 ")])),_:1},8,["disabled"])])])])]),d("div",S,[p(t,{description:"暂无好友","image-size":200,class:"empty-box"})])],64)}}}),[["__scopeId","data-v-6ca536e2"]]),X=T(e({__name:"All",setup(a){const s=j(),t=k((()=>s.friends.length));return e({name:"All"}),(e,a)=>{const l=K("FriendsDisplay"),n=_;return b(t)?(i(),x(l,{key:0,status:"all",list:b(s).friends,"icon-right":"fa-solid fa-bars","icon-left":"fa-solid fa-comments","title-text":"好友总数"},null,8,["list"])):(i(),x(n,{key:1,description:"暂无好友","image-size":200,class:"empty-box"}))}}}),[["__scopeId","data-v-df9ae9b7"]]),Y=T(e({__name:"Online",setup(a){const s=j(),t=k((()=>s.handleOnlineFriendsList.length));return e({name:"Online"}),(e,a)=>{const l=K("FriendsDisplay"),n=_;return b(t)?(i(),x(l,{key:0,status:"all",list:b(s).handleOnlineFriendsList,"icon-right":"fa-solid fa-bars","icon-left":"fa-solid fa-comments","title-text":"在线"},null,8,["list"])):(i(),x(n,{key:1,description:"暂无好友","image-size":200,class:"empty-box"}))}}}),[["__scopeId","data-v-1651881e"]]),Z=T(e({__name:"Blocked",setup(e){const a=j(),s=k((()=>a.blockedFriends.length));return(e,t)=>{const l=K("FriendsDisplay"),n=_;return b(s)?(i(),x(l,{key:0,status:"blocked",list:b(a).blockedFriends,"icon-right":"fa-solid fa-user-xmark","title-text":"已屏蔽数"},null,8,["list"])):(i(),x(n,{key:1,description:"暂无好友","image-size":200,class:"empty-box"}))}}}),[["__scopeId","data-v-57ea4e3e"]]),ee=T(e({__name:"ToBeDetermined",setup(a){const s=j(),t=k((()=>s.pendingFriends.length));return e({name:"Blocked"}),(e,a)=>{const l=K("FriendsDisplay"),n=_;return b(t)?(i(),x(l,{key:0,status:"ToBeDetermined",list:b(s).handlePendingFriendsList,"icon-left":"fa-solid fa-check","icon-right":"fa-solid fa-xmark","title-text":"待处理数"},null,8,["list"])):(i(),x(n,{key:1,description:"暂无好友","image-size":200,class:"empty-box"}))}}}),[["__scopeId","data-v-3ea53328"]]),ae=e=>(h("data-v-764122fb"),e=e(),g(),e),se={class:"header-left-left"},te=ae((()=>d("span",null,[d("i",{class:"fa-solid fa-user"}),f(" 好友 ")],-1))),le=ae((()=>d("div",{class:"divider-q3P9HC"},null,-1))),ie={key:0,class:"msgNum"},ne={class:"header-right-right"},de=ae((()=>d("span",null,[d("i",{class:"fa-solid fa-message"})],-1))),re=ae((()=>d("div",{class:"divider-q3P9HC"},null,-1))),oe=ae((()=>d("span",null,[d("i",{class:"fa-solid fa-inbox"})],-1))),ce=ae((()=>d("span",null,[d("i",{class:"fa-solid fa-circle-question"})],-1))),ue=T(e({__name:"index",setup(e){const s=a(1),r=j(),o=F([Y,X,ee,Z,W]);return t((()=>{r.getFriends(),r.getPendingFriends(),r.getBlockedFriends()})),l(s,(e=>{r.getFriends()}),{immediate:!0}),(e,a)=>{const t=q,l=B,u=D,y=z,_=L,h=C;return i(),x(h,null,{default:m((()=>[p(y,{class:"main-box-right-header2"},{default:m((()=>[p(u,null,{default:m((()=>[p(t,{span:19,class:"header-left"},{default:m((()=>[d("div",se,[te,le,d("span",{class:c({"is-active":1===s.value}),onClick:a[0]||(a[0]=e=>s.value=1)}," 在线 ",2),d("span",{class:c({"is-active":2===s.value}),onClick:a[1]||(a[1]=e=>s.value=2)}," 全部 ",2),d("span",{class:c({"is-active":3===s.value}),onClick:a[2]||(a[2]=e=>s.value=3)},[f(" 待定 "),b(r).handlePendingFriendsRequestList.length?(i(),n("i",ie,A(b(r).handlePendingFriendsRequestList.length),1)):w("",!0)],2),d("span",{class:c({"is-active":4===s.value}),onClick:a[3]||(a[3]=e=>s.value=4)}," 已屏蔽 ",2),d("span",{class:c({"is-active-add":5===s.value}),onClick:a[4]||(a[4]=e=>s.value=5)}," 添加好友 ",2)])])),_:1}),p(t,{span:5,class:"header-right"},{default:m((()=>[d("div",ne,[p(l,{"hide-after":50,class:"box-item",effect:"dark",content:"Top Center prompts info",placement:"bottom"},{default:m((()=>[de])),_:1}),re,p(l,{"hide-after":50,class:"box-item",effect:"dark",content:"Top Center prompts info",placement:"bottom"},{default:m((()=>[oe])),_:1}),p(l,{"hide-after":50,class:"box-item",effect:"dark",content:"Top Center prompts info",placement:"bottom"},{default:m((()=>[ce])),_:1})])])),_:1})])),_:1})])),_:1}),p(u,{class:"main-box-right-main2"},{default:m((()=>[p(t,{span:17},{default:m((()=>[p(h,null,{default:m((()=>[p(_,{class:"main-box-right-main2-main1"},{default:m((()=>[(i(!0),n(v,null,I(b(o),((e,a)=>(i(),n(v,null,[s.value===a+1?(i(),x(u,{key:a},{default:m((()=>[(i(),x(P(e)))])),_:2},1024)):w("",!0)],64)))),256))])),_:1})])),_:1})])),_:1}),p(t,{span:7},{default:m((()=>[p(h,null,{default:m((()=>[p(_,{class:"main-box-right-main2-main2"},{default:m((()=>[f("Main")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-764122fb"]]);export{ue as default};
