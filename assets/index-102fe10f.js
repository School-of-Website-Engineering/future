var e=Object.defineProperty,t=(t,s,n)=>(((t,s,n)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n})(t,"symbol"!=typeof s?s+"":s,n),n);import{o as s,c as n,r as a,a as r,E as o,d as i,b as l,e as d,f as c,g as u,h as f,n as p,w as m,i as h,j as _,p as y,k as g,l as v,m as E,q as b,s as R,t as k,F as T,u as L,v as x,x as O,y as P,z as j,A as w,B as A,C as S}from"./vendor-7628cae1.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const D=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s};const I=D({},[["render",function(e,t){const r=a("router-view");return s(),n(r)}]]);r.defaults.baseURL="/api-pro",r.defaults.timeout=1e4,r.defaults.headers["Content-Type"]="application/json;charset=UTF-8";const V=r.create({baseURL:"/api-pro",responseType:"json",transformResponse:[function(e){try{e=JSON.parse(e)}catch(t){}return e}]});V.interceptors.request.use((e=>(e.headers={...e.headers},e)),(e=>Promise.reject(e)));const F={404:new class{handle(e){const{message:t}=e.data;t&&o.error(t)}},112:new class{handle(e){o.error("Token expired")}},212:new class{handle(e){o.error("No permission")}}};V.interceptors.response.use((e=>{const{code:t}=e.data;if(0!==t){const s=F[t];null==s||s.handle(e)}return e}),(e=>{var t;return t=e.message,o.error(t),Promise.reject(e)}));const U=e=>new Promise(((t,s)=>{V.request(e).then((e=>{t(e.data)})).catch((e=>{}))})),N={get:(e,t={},s)=>U({url:e,params:t,...s,method:"GET"}),post:(e,t={},s)=>U({url:e,data:t,...s,method:"POST"}),put:(e,t={},s)=>U({url:e,data:t,...s,method:"PUT"}),delete:(e,t={},s)=>U({url:e,data:t,...s,method:"DELETE"}),upload:(e,t={},s)=>U({url:e,data:t,...s,method:"POST",headers:{"Content-Type":"multipart/form-data"}})};const q=new class{getUserLogin(e){return N.post("/api/userTset/login",e)}},M=i("user",{state:()=>({username:"",token:""}),getters:{hello:e=>"Hello!"+e.username},actions:{async login(e){await q.getUserLogin(e)},logout(){this.token="",this.username=""}}});const W=new class{constructor(){t(this,"getUserFriends",(()=>N.get("/user/friends")))}},C=i("menu",{state:()=>({friends:[]}),getters:{},actions:{async getFriends(){const{data:e,code:t}=await W.getUserFriends();0===t&&(this.friends=e.friends||[])}}}),B=l(),K={},$=function(e,t,s){if(!t||0===t.length)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/future-front-end/"+e}(e))in K)return;K[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!s)for(let s=n.length-1;s>=0;s--){const a=n[s];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((t,s)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>s(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))},H=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:()=>$((()=>import("./index-ab45fcd5.js")),["assets/index-ab45fcd5.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css","assets/index-8d3fe13b.css"])},{path:"/main",name:"main",component:()=>$((()=>import("./index-e64f3398.js")),["assets/index-e64f3398.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css","assets/index-06850785.js","assets/index-24e3678b.css"]),children:[{path:"/main/@me",name:"message",components:{leftAside:()=>$((()=>import("./index-0d1213c4.js")),["assets/index-0d1213c4.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css","assets/index-06850785.js","assets/index-a35266c4.css"]),rightMain:()=>$((()=>import("./index-2e632e14.js")),["assets/index-2e632e14.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css","assets/index-b3d50003.css"])}},{path:"/channels/:id",name:"channels",components:{leftAside:()=>$((()=>import("./index-bb0619cc.js")),["assets/index-bb0619cc.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css"]),rightMain:()=>$((()=>import("./index-2e632e14.js")),["assets/index-2e632e14.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css","assets/index-b3d50003.css"])},props:!0},{path:"/main/@me",name:"friend",components:{leftAside:()=>$((()=>import("./index-0d1213c4.js")),["assets/index-0d1213c4.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css","assets/index-06850785.js","assets/index-a35266c4.css"]),rightMain:()=>$((()=>import("./index-2e632e14.js")),["assets/index-2e632e14.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css","assets/index-b3d50003.css"])}},{path:"/main/store",name:"friend",components:{leftAside:()=>$((()=>import("./index-0d1213c4.js")),["assets/index-0d1213c4.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css","assets/index-06850785.js","assets/index-a35266c4.css"]),rightMain:()=>$((()=>import("./index-5d3e9262.js")),["assets/index-5d3e9262.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css"])}}]},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>$((()=>import("./NotFound-f5d82434.js")),["assets/NotFound-f5d82434.js","assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css","assets/NotFound-383f6438.css"])}],z=d({history:c("/future-front-end/"),routes:H,scrollBehavior:()=>({left:0,top:0})});z.beforeEach(((e,t,s)=>{"/main"===e.path?s("/main/@me"):s()}));const G=e=>(y("data-v-4c15b1bb"),e=e(),g(),e),J={class:"friendStatus"},Q=G((()=>v("div",{class:"status-online"},null,-1))),X=G((()=>v("div",{class:"status-idle"},null,-1))),Y=G((()=>v("div",{class:"status-offline"},null,-1))),Z=G((()=>v("div",{class:"status-busy"},null,-1))),ee=D(u({__name:"FriendStatus",props:{status:{type:String,default:"online"},statusText:{type:String,default:""}},setup:e=>(t,a)=>{const r=_;return s(),f("div",J,[e.statusText?"online"===e.status?(s(),n(r,{key:1,enterable:!1,effect:"dark",content:e.statusText,placement:"top"},{default:m((()=>[Q])),_:1},8,["content"])):"idle"===e.status?(s(),n(r,{key:2,enterable:!1,effect:"dark",content:e.statusText,placement:"top"},{default:m((()=>[X])),_:1},8,["content"])):"offline"===e.status?(s(),n(r,{key:3,enterable:!1,effect:"dark",content:e.statusText,placement:"top"},{default:m((()=>[Y])),_:1},8,["content"])):"busy"===e.status?(s(),n(r,{key:4,enterable:!1,effect:"dark",content:e.statusText,placement:"top"},{default:m((()=>[Z])),_:1},8,["content"])):h("",!0):(s(),f("div",{key:0,class:p(["online"===e.status?"status-online":"idle"===e.status?"status-idle":"offline"===e.status?"status-offline":"status-busy"])},null,2))])}}),[["__scopeId","data-v-4c15b1bb"]]),te=e=>(y("data-v-2115dcaa"),e=e(),g(),e),se={class:"search-box-header-top"},ne={class:"search-box"},ae=te((()=>v("i",{class:"fa-solid fa-magnifying-glass"},null,-1))),re={class:"title-x4dI75 container-q97qHp"},oe=te((()=>v("div",{class:"placeholder"},null,-1))),ie={class:"friends-avatar"},le={class:"friends-info"},de={class:"friends-name"},ce={key:0,class:"friends-status"},ue={key:1,class:"friends-status"},fe={key:2,class:"friends-status"},pe={key:3,class:"friends-status"},me={key:0,class:"friends-more"},he={key:0},_e={key:0},ye=D(u({__name:"FriendsDisplay",props:{status:{type:String,default:"online"},list:{type:Array,default:()=>[]},iconLeft:{type:String,default:""},iconRight:{type:String,default:""}},setup(e){u({name:"FriendsDisplay"});const t=()=>{},n=E("");return(a,r)=>{const o=x,i=P,l=ee,d=_;return s(),f(T,null,[v("div",se,[v("div",ne,[b(o,{class:"search-box-input",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=e=>n.value=e),placeholder:"搜索",onKeyup:R(t,["enter","native"])},null,8,["modelValue","onKeyup"]),ae]),v("h2",re,"好友总数 — "+k(e.list.length),1)]),oe,(s(!0),f(T,null,L(e.list,((t,n)=>(s(),f("div",{class:"friends-list",key:n},[v("div",ie,[b(i,{class:"avatar",src:t.avatar},null,8,["src"]),v("div",le,[v("div",de,[O(k(t.name)+" ",1),v("p",null,"#"+k(t.id),1)]),"online"===t.status?(s(),f("div",ce,"在线")):"offline"===t.status?(s(),f("div",ue,"离线")):"busy"===t.status?(s(),f("div",fe,"忙碌")):"idle"===t.status?(s(),f("div",pe,"闲置")):h("",!0),b(l,{status:t.status},null,8,["status"])])]),e.iconLeft||e.iconRight?(s(),f("div",me,[b(d,{enterable:!1,class:"box-item",effect:"dark",content:"消息",placement:"top"},{default:m((()=>[e.iconLeft?(s(),f("span",he,[v("i",{class:p(e.iconLeft)},null,2)])):h("",!0)])),_:1}),b(d,{enterable:!1,class:"box-item",effect:"dark",content:"更多",placement:"top"},{default:m((()=>[e.iconRight?(s(),f("span",_e,[v("i",{class:p(e.iconRight)},null,2)])):h("",!0)])),_:1})])):h("",!0)])))),128))],64)}}}),[["__scopeId","data-v-2115dcaa"]]);const ge=j(I),ve=l();for(const[Ee,be]of Object.entries(w))ge.component(Ee,be);!function(e={}){const{immediate:t=!0,onNeedRefresh:s,onOfflineReady:n,onRegistered:a,onRegisteredSW:r,onRegisterError:o}=e,i=E(!1),l=E(!1);(function(e={}){const{immediate:t=!1,onNeedRefresh:s,onOfflineReady:n,onRegistered:a,onRegisteredSW:r,onRegisterError:o}=e;let i,l;l=async function(){if("serviceWorker"in navigator){const{Workbox:e}=await $((()=>import("./vendor-7628cae1.js").then((e=>e.a1))),["assets/vendor-7628cae1.js","assets/vendor-6d5d5ca5.css"]);i=new e("/future-front-end/sw.js",{scope:"/future-front-end/",type:"classic"}),i.addEventListener("activated",(e=>{(e.isUpdate||e.isExternal)&&window.location.reload()})),i.addEventListener("installed",(e=>{e.isUpdate||null==n||n()})),i.register({immediate:t}).then((e=>{r?r("/future-front-end/sw.js",e):null==a||a(e)})).catch((e=>{null==o||o(e)}))}}()})({immediate:t,onNeedRefresh(){i.value=!0,null==s||s()},onOfflineReady(){l.value=!0,null==n||n()},onRegistered:a,onRegisteredSW:r,onRegisterError:o})}(),ge.component("FriendStatus",ee),ge.component("FriendsDisplay",ye),ve.use(A),ge.use(S),ge.use(ve),ge.use(B),ge.use(z),ge.mount("#app");export{ye as F,D as _,ee as a,M as b,N as h,C as u};
